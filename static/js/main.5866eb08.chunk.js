(this.webpackJsonpharness=this.webpackJsonpharness||[]).push([[0],{170:function(n,t){},172:function(n,t){},203:function(n,t){},241:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"LABEL",(function(){return w})),e.d(r,"CMD",(function(){return O}));var c={};e.r(c),e.d(c,"LABEL",(function(){return m})),e.d(c,"CMD",(function(){return x}));var a={};e.r(a),e.d(a,"LABEL",(function(){return k})),e.d(a,"CMD",(function(){return y}));var o={};e.r(o),e.d(o,"LABEL",(function(){return C})),e.d(o,"CMD",(function(){return A}));var u={};e.r(u),e.d(u,"LABEL",(function(){return M})),e.d(u,"CMD",(function(){return I}));var s={};e.r(s),e.d(s,"LABEL",(function(){return D})),e.d(s,"CMD",(function(){return T}));var i=e(28),l=e.n(i),p=e(144),f=e.n(p),d=e(1),b=e(32),h=e(0),g=e.n(h),j=e(17),v=e(147);e(148);j.config().put("app.detail.title","Test Harness").put("app.detail.icon","https://placekitten.com/g/200/200").put("service.OpenID.scopes","email"),j.config().put("env","testnet").put("accessNode.api","https://rest-testnet.onflow.org").put("sdk.transport",v.a).put("discovery.authn.include",["0x9d2e44203cb13051"]).put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn"),window.fcl=j,window.addEventListener("FLOW::TX",(function(n){console.log("FLOW::TX",n.detail.delta,n.detail.txId),j.tx(n.detail.txId).subscribe((function(t){return console.log("TX:STATUS",n.detail.txId,t)}))})),window.addEventListener("message",(function(n){console.log("Harness Message Received",n.data)}));var w="Log In",O=j.reauthenticate,m="Log Out",x=j.unauthenticate,L=function(n){return function(t){return console.log("".concat(n),t),t}},E=function(n){return function(t){return console.error("Oh No!! [".concat(n,"]"),t),t}},k="Query 1 (no args)",y=function(){var n=Object(d.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.query)({cadence:"\n      pub fun main(): Int {\n        return 7\n      }\n    "}).then(L("Q-1")).catch(E("Q-1")));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C="Query 2 (args)",A=function(){var n=Object(d.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.query)({cadence:"\n      pub fun main(a: Int, b: Int): Int {\n        return a + b\n      }\n    ",args:function(n,t){return[n(5,t.Int),n(7,t.Int)]}}).then(L("Q-1")).catch(E("Q-1")));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),M="Mutate 1 (no args)",I=function(){var n=Object(d.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.mutate)({cadence:"\n      transaction() {\n        prepare(acct: AuthAccount) {\n          log(acct)\n        }\n      }\n    ",limit:50}).then(L("M-1")).catch(E("M-1")));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),D="Mutate 2 (args)",T=function(){var n=Object(d.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.mutate)({cadence:"\n      transaction(a: Int, b: Int, c: Address) {\n        prepare(acct: AuthAccount) {\n          log(acct)\n          log(a)\n          log(b)\n          log(c)\n        }\n      }\n    ",args:function(n,t){return[n(6,t.Int),n(7,t.Int),n("0xba1132bc08f82fe2",t.Address)]},limit:50}).then(L("M-1")).catch(E("M-1")));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=[r,c,a,o,u,s];var S=e(55),B=e(73),N=e.n(B),Q=e(30),W=function(n){return Object(Q.jsx)("li",{children:Object(Q.jsx)("button",{onClick:n.CMD,children:n.LABEL})},n.LABEL)};function _(){var n=function(){var n=Object(i.useState)(null),t=Object(b.a)(n,2),e=t[0],r=t[1];return Object(i.useEffect)((function(){return j.currentUser().subscribe(r)}),[]),e}(),t=function(){var n=Object(i.useState)(null),t=Object(b.a)(n,2),e=t[0],r=t[1];return Object(i.useEffect)((function(){return j.config().subscribe(r)}),[]),e}(),e=Object(i.useState)(null),r=Object(b.a)(e,2),c=r[0],a=r[1],o=Object(i.useState)(null),u=Object(b.a)(o,2),s=u[0],l=u[1],p=function(){var n=Object(d.a)(g.a.mark((function n(){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.b.init({projectId:"6427e017c4bd829eef203702a51688b0",relayUrl:"wss://relay.walletconnect.com",metadata:{name:"Example Dapp",description:"Example Dapp",url:"#",icons:["https://walletconnect.com/walletconnect-logo.png"]}});case 2:(t=n.sent).on(S.a.pairing.proposal,function(){var n=Object(d.a)(g.a.mark((function n(t){var e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.signal.params.uri,console.log("EVENT","QR Code Modal open"),/Mobi/.test(navigator.userAgent)?window.location.assign("FWC://"+e,"_blank"):N.a.open(e,null,{mobileLinks:["FWC://"]},(function(){console.log("EVENT","QR Code Modal closed")}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),t.on(S.a.pairing.created,function(){var n=Object(d.a)(g.a.mark((function n(t){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("[EVENT]","session_created",t);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),t.on(S.a.session.deleted,(function(n){console.log("[EVENT]","session_deleted",n)})),a(t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=Object(d.a)(g.a.mark((function n(){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("<--- handleSend --\x3e"),n.next=3,c.request({topic:s.topic,request:{method:"flow_authz",params:[]}});case 3:t=n.sent,console.log("<--- result --\x3e",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=Object(d.a)(g.a.mark((function n(){var t,e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("<--- handleWalletConnect --\x3e"),t={name:"Flow App",description:"Flow DApp for WalletConnect",url:"https://testFlow.com/",icons:["https://raw.githubusercontent.com/Outblock/Assets/main/blockchain/flow/info/logo.png"]},n.next=4,c.connect({metadata:t,permissions:{blockchain:{chains:["flow:1"]},jsonrpc:{methods:["flow_signMessage","flow_authz","flow_authn"]}}});case 4:e=n.sent,l(e),console.log("<--- session --\x3e",e),N.a.close();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){p()}),[]),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("ul",{children:F.map(W)}),Object(Q.jsxs)("ul",{children:[c&&Object(Q.jsx)("button",{onClick:h,children:"Wallet Connect"}),s&&Object(Q.jsx)("button",{onClick:f,children:"WalletConnect Authz"})]}),Object(Q.jsx)("pre",{children:s&&JSON.stringify({session:s},null,2)}),Object(Q.jsx)("pre",{children:JSON.stringify({currentUser:n,config:t},null,2)})]})}var q=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,244)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),a(n),o(n)}))};f.a.render(Object(Q.jsx)(l.a.StrictMode,{children:Object(Q.jsx)(_,{})}),document.getElementById("root")),q()}},[[241,1,2]]]);
//# sourceMappingURL=main.5866eb08.chunk.js.map